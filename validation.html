<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Kohana-formo : Object-based form handling for Kohana 3" />

    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
    <script type="text/javascript" src="javascripts/bootstrap.min.js"></script>
    <script type="text/javascript" src="javascripts/marked.js"></script>
    <script type="text/javascript" src="javascripts/site.js"></script>

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/bootstrap.css">
    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Kohana-formo</title>
  </head>

  <body>

 <div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container">
          <button type="button" class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="brand" href="./index.html">Formo</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="">
                <a href="./index.html">Home</a>
              </li>
              <li class="">
                <a href="./form-basics.html">Form Basics</a>
              </li>
              <li class="active">
                <a href="./validation.html">Validation</a>
              </li>
              <li class="">
                <a href="./orm.html">ORM</a>
              </li>
              <li class="">
                <a href="./files.html">Files</a>
              </li>
              <li class="">
                <a href="./examples.html">Examples</a>
              </li>
            </ul>
          </div>
        </div>
      </div>
    </div>
    
<header class="jumbotron subhead" id="overview">
  <div class="container">
    <h1>Validation</h1>
    <p class="lead">How to validate your forms, fields and subforms.</p>
  </div>
</header>


  <div class="container">

    <!-- Docs nav
    ================================================== -->
    <div class="row">
      <div class="span3 bs-docs-sidebar">
        <ul class="nav nav-list bs-docs-sidenav">
          <li><a href="#validation"><i class="icon-chevron-right"></i> Validation</a></li>
          <li><a href="#without-loading"><i class="icon-chevron-right"></i> Validate without loading</a></li>
        </ul>
      </div>
      <div class="span9">

        <!-- Download
        ================================================== -->
        <section id="validation">
          <div class="page-header">
            <h1>Validating forms</h1>
          </div>

<div class="md">

Usually when you validate a form, you will follow a linear process:

1. Create form
2. Load new values from $_POST data
3. Validate against the form with its new values

You can do this easily using `Formo::load()` and `Formo::validate()`:

```
$form = Formo::form();
// Add stuff to form

if ($form->load($_POST)->validate())
{
	echo ‘You did it!’;
}
```

What this is saying is: “Update all field values from the `$_POST` array, and check if the form validates with those values.”

Formo first checks whether the form appears to be sent at all, and returns `FALSE` if it wasn’t sent.

IF you don’t specify an array in `Formo::load()`, Formo will load values from `Request::$current->post()` by default. Thus, this is the most common syntax for validation:

```
if ($form->load()->validate())
{
	// Passed!
}
```
</div> <!-- md -->
        </section>


<section id="without-loading">
	<div class="page-header">
		<h1>Validating without loading values</h1>

<div class="md">
## Validating without loading values

Sometimes you may want to check whether a form or field validates without actually loading a new value into the form or field. You can do this by passing an array of `$alias => $value` of field values you want to validate against.

Here’s an example of validating a form without loading any values. The errors returned is an array for a form or group

```
$values = [‘first’ => ‘Billy’, ‘last’ => null, ‘email’ => ‘billy@madison.com’];

// First create a validation object with the values you want to validate against
$validation = $form->validation($values);

// You can do anything with the validation object, it’s just a regular Kohana Validation object
if ( ! $validation->check())
{

}
else
{
	// Formo can turn the values into strings
	$errors = $form->validation_errors($validation);
}
```

You can also validate a single field this way. The error returned is a string

```
$validation = $form->email->validation(array(‘email’ => ‘john@doe.com’));

if ( ! $error = $form->email->validation_errors($validation))
{

}
```
</div> <!-- md -->
        </section>

      </div>
    </div>

  </div>


  </body>
</html>
